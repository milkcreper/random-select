<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ランダムタスク割り当て（Step A）</title>
<style>
body {
  font-family: sans-serif;
  margin: 20px;
}

textarea, input {
  width: 100%;
  margin-top: 5px;
}

button {
  margin-top: 8px;
  padding: 6px 12px;
}

.task-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.task-list {
  margin-top: 10px;
}
</style>
</head>
<body>

<h1>ランダムタスク割り当て（Step A）</h1>

<!-- 名前入力 -->
<h2>① 名前入力（改行区切り）</h2>
<textarea id="names" rows="5" placeholder="ミルクレープ
たろう
はなこ"></textarea>

<!-- タスク管理 -->
<h2>② タスク管理</h2>

<!-- タスク追加 -->
<input type="text" id="newTask" placeholder="新しいタスクを入力">
<button onclick="addTask()">タスク追加</button>

<!-- タスク一覧 -->
<div class="task-list" id="taskList"></div>

<!-- 実行（仮） -->
<h2>③ 仮実行（確認用）</h2>
<button onclick="run()">有効タスクを確認</button>

<pre id="result"></pre>

<script>
// ===== タスクデータ（チェック式） =====
let tasks = [
  { text: "前進キー外す", enabled: true },
  { text: "マウスの右クリ左クリ反転", enabled: true },
  { text: "ADS禁止", enabled: true },
  { text: "ヘビーアーマー禁止", enabled: false }
];

// ===== タスク一覧描画 =====
function renderTasks() {
  const list = document.getElementById("taskList");
  list.innerHTML = "";

  tasks.forEach((task, index) => {
    const div = document.createElement("div");
    div.className = "task-item";

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.checked = task.enabled;
    checkbox.onchange = () => {
      tasks[index].enabled = checkbox.checked;
    };

    const label = document.createElement("span");
    label.textContent = task.text;

    div.appendChild(checkbox);
    div.appendChild(label);
    list.appendChild(div);
  });
}

// ===== タスク追加 =====
function addTask() {
  const input = document.getElementById("newTask");
  const text = input.value.trim();
  if (text === "") return;

  tasks.push({ text: text, enabled: true });
  input.value = "";
  renderTasks();
}

// ===== 仮実行（確認用） =====
function run() {
  const activeTasks = tasks.filter(t => t.enabled).map(t => t.text);
  document.getElementById("result").textContent =
    "現在有効なタスク：\n" + activeTasks.join("\n");
}

// 初期表示
renderTasks();
</script>

</body>
</html>
